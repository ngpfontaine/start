function colourConstructor(e,t,n){var o="hsl("+e+","+t+"%,"+n+"%)";return o}function clock(){var e=new Date;dateH=e.getHours(),dateH>12&&(dateH-=12),dateM=e.getMinutes(),dateM.toString().length<2&&(dateM="0"+dateM.toString()),dateS=e.getSeconds(),dateS.toString().length<2&&(dateS="0"+dateS.toString()),navTimeDom.innerHTML=dateH+":"+dateM+":"+dateS,timeLargeDom.innerHTML=dateH+":"+dateM,setTimeout(clock,1e3)}function timeoutShow(){setTimeout(function(){links[showInc].classList.add("show"),showInc++,showInc<linksNo&&timeoutShow()},45)}function countEm(){for(rNum=0,rNumTotal=1,rOffset=[],rLength=[],rLinkCount=0,rOffset[rNum]=links[0].offsetTop,i=0;i<linksNo;i++)links[i].offsetTop===rOffset[rNum]?(rLinkCount++,rLength[rNum]=rLinkCount,rOffset[rNum]=links[i].offsetTop):(console.log("row: "+rNum+", "+rLength[rNum]+" total cells "),rNum++,rNumTotal++,rOffset[rNum]=links[i].offsetTop,rLinkCount++,rLength[rNum]=rLinkCount);console.log("row: "+rNum+", "+rLength[rNum]+" total cells ")}function focusLink(){linkFocus>=0&&linkFocus<linksNo&&(links[linkFocus].focus(),linkFocusOffTop=links[linkFocus].offsetTop)}function focusSearch(){si.inputD.focus()}function clearSearch(){si.inputD.value="",inputFake.innerHTML="",si.lookupRepeat=0}function searchSwitch(e){"l"===e?si.plInc>0?si.plInc--:si.plInc=si.pl.length-1:"r"===e&&(si.plInc<si.pl.length-1?si.plInc++:si.plInc=0),si.iconD.innerHTML=si.icon[si.plInc],si.inputD.placeholder=si.pl[si.plInc],si.inputD.classList.remove("search-hide"),si.valHolder=si.val,dotChange(),setTimeout(function(){"undefined"!=typeof si.inputD.value&&0===si.inputD.value.length&&(si.val.replace(/\s/g,"").length?(si.inputD.value=si.valHolder,inputFake.innerHTML=si.valHolder,si.inputD.classList.add("search-hide")):(console.log("just white space, reset"),clearSearch(),si.valHolder=""))},200),clearSearch()}function dotChange(){for(i=0;i<noDotEachDom.length;i++)noDotEachDom[i].className="no-dot";noDotEachDom[si.plInc].classList.add("no-dot-sel")}function weatherImgLazy(){for(var e=0;e<weatherImgNameArrayLength;e++)weatherImgArray[e].id="weather-"+weatherImgNameArray[e]}function loadWeather(e,t){function n(){$.simpleWeather({location:e,woeid:t,unit:"f",success:function(t){weatherCurrent=t.currently,weatherTemp=t.temp,weatherCity=t.city+", "+t.region,console.clear(),console.log("geo coords: "+e),console.log('weather: "'+weatherCurrent+'", temp: "'+weatherTemp+'"'),weatherImgLazy(),weatherSwap(weatherCurrent,weatherTemp)},error:function(e){console.log("weather error")}}),setTimeout(n,2e4)}initWeatherLoad&&(n(),initWeatherLoad=!1)}function weatherSwap(e,t){for(img="","Sunny"===e||"Mostly Sunny"===e||"Clear"===e||"Mostly Clear"===e||"Partly Cloudy"===e?img="weather-sunny":"Rain"===e?img="weather-rain":"Scattered Thunderstorms"===e||"Scattered Showers"===e?img="weather-showers":"Mostly Cloudy"===e||"Cloudy"===e?img="weather-cloudy":"Snow"===e||"Rain and Snow"===e?img="weather-snow":"Windy"===e||"Breezy"===e?img="weather-windy":alert(e+" - I havent coded for this, need to add it"),i=0;i<weatherImgNo;i++)weatherImgArray[i].className="";navTop.className="show",document.getElementById(img).className="show",navTempDom.innerHTML=t+"&deg; F",navCityDom.innerHTML=weatherCity}var cpbh=200,cMode="light",cpbs=18,cpbl=50,searchPlaceholders=["url","duckduckgo","google","google maps","youtube","soundcloud","/r/","stackoverflow","aur","wikipedia"],searchUrls=["","https://duckduckgo.com/?q=","https://www.google.com/#q=","https://www.google.com/maps/search/","https://www.youtube.com/results?search_query=","https://soundcloud.com/search?q=","https://www.reddit.com/r/","https://stackoverflow.com/search?q=","https://aur.archlinux.org/packages/?O=0&K=","https://en.wikipedia.org/wiki/"],searchIconSwap=!0,searchIcons=['<i class="fa fa-globe" aria-hidden="true"></i>','<i class="fa fa-search search-icon" aria-hidden="true"></i>','<i class="fa fa-google" aria-hidden="true"></i>','<i class="fa fa-map-marker" aria-hidden="true"></i>','<i class="fa fa-youtube" aria-hidden="true"></i>','<i class="fa fa-soundcloud" aria-hidden="true"></i>','<i class="fa fa-reddit" aria-hidden="true"></i>','<i class="fa fa-stack-overflow" aria-hidden="true"></i>','<i class="fa fa-linux" aria-hidden="true"></i>','<i class="fa fa-wikipedia-w" aria-hidden="true"></i>'],cursorToggleShow=!0,cursorTimer;document.addEventListener("mousemove",function(){cursorToggleShow?(clearTimeout(cursorTimer),cursorToggleShow=!0,cursorTimer=setTimeout(function(){document.getElementsByTagName("html")[0].style.cursor="none",cursorToggleShow=!1},400)):(cursorToggleShow=!0,document.getElementsByTagName("html")[0].style.cursor="auto")});var si={link:searchUrls,pl:searchPlaceholders,plInc:0,numSearched:0,lookupRepeat:0,icon:searchIcons,inputD:document.getElementById("search-input"),log:[],iconD:document.getElementById("input-search-icon"),swapIcons:searchIconSwap,val:"",valHolder:""};si.inputD.placeholder=si.pl[0],si.inputD.focus(),si.swapIcons?si.iconD.innerHTML=si.icon[0]:si.iconD.innerHTML='<i class="fa fa-search search-icon" aria-hidden="true"></i>';var links=document.getElementById("ul-links").getElementsByTagName("a"),linksNo=links.length,linkFocus=0,linkFocusOffTop,cpMods={linkBgHue:1.01*cpbh,linkBgSat:1.16*cpbs,linkBgLight:1.19*cpbl};document.getElementsByTagName("body")[0].style.background=colourConstructor(cpbh,cpbs,cpbl);var linksColCalc=colourConstructor(cpMods.linkBgHue,cpMods.linkBgSat,cpMods.linkBgLight);for(i=0;i<linksNo;i++)links[i].style.background=linksColCalc;var navDateDom=document.getElementById("date-d"),navTimeDom=document.getElementById("date-t"),timeLargeDom=document.getElementById("time-large"),dateD=new Date;navDateDom.innerHTML=dateD.toDateString(),clock();var dotSectionDomArray=document.getElementsByClassName("section-no-dots"),showInc=0;timeoutShow();var rNum,rNumTotal,rOffset=[],rLength=[],rLinkCount;countEm();var hasResized=!1,resizeTimer;window.onresize=function(){hasResized||(hasResized=!0),windowIW=window.innerWidth,clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){console.log("resizing"),countEm()},250)},document.addEventListener("keydown",function(e){"9"==e.keyCode&&(e.preventDefault(),focusSearch())}),document.getElementById("ul-links").addEventListener("keydown",function(e){"37"==e.keyCode&&(e.preventDefault(),linkFocus>=1?linkFocus--:linkFocus=linksNo-1,focusLink()),"39"==e.keyCode&&(e.preventDefault(),linkFocus<linksNo-1?linkFocus++:linkFocus=0,focusLink()),"38"==e.keyCode&&(e.preventDefault(),linkFocus-rLength[0]>-1?(linkFocus-=rLength[0],focusLink()):(focusSearch(),0===si.val.length&&si.inputD.classList.remove("search-hide"))),"40"==e.keyCode&&(e.preventDefault(),linkFocus+rLength[0]<rLength[rLength.length-1]?(linkFocus+=rLength[0],focusLink()):(toggleTab="search",si.inputD.focus())),"9"==e.keyCode&&e.preventDefault()});var cursorMoveEnable=!1,searchPreMoveDst=103,searchPreMoveInc=0,inputFake=document.getElementById("input-fake"),rejectArray=["16","18","8","17"],keyCtrlDown=!1;for(si.inputD.addEventListener("keyup",function(e){17===e.keyCode&&(keyCtrlDown=!1)}),si.inputD.addEventListener("keydown",function(e){si.val=si.inputD.value.toLowerCase(),17===e.which&&(keyCtrlDown=!0),32===e.keyCode&&(p=inputFake.innerHTML,p+="Â ",inputFake.innerHTML=p),keyCtrlDown&&(8===e.which&&(console.log("ctrl + backspace"),e.preventDefault(),p=p.replace(/\s\s+/g," "),l=p.lastIndexOf(" "),l===p.length-1&&(p=p.substring(0,p.length-2),l=p.lastIndexOf(" ")),p=p.substring(0,l),p.length>0&&(p+=" "),inputFake.innerHTML=p),65===e.which&&(e.preventDefault(),console.log("key a")))}),si.inputD.addEventListener("keypress",function(e){si.inputD.classList.add("search-hide"),p=inputFake.innerHTML,rejectArray.indexOf(e.keyCode.toString())<0?(k=e.which,inputFake.innerHTML=p+String.fromCharCode(k).toLowerCase(),p=inputFake.innerHTML):8===e.keyCode&&(inputFake.innerHTML=p.substring(0,p.length-1),p.length<=1&&si.inputD.classList.remove("search-hide")),"13"==e.keyCode&&""!==si.val&&(console.log("var si.val = "+si.val),si.plInc>0?(q=si.val.replace(/\s\s+/g," "),window.open(si.link[si.plInc]+q)):si.val.indexOf("https://")===-1&&si.val.indexOf("http://")===-1?window.open("http://"+si.val):window.open(si.val),inputFake.innerHTML="",si.inputD.value="",si.log.push(si.val),si.numSearched++,si.lookupRepeat=0),"9"==e.keyCode&&e.preventDefault()}),si.inputD.addEventListener("keydown",function(e){"40"==e.keyCode&&(e.preventDefault(),si.inputD.blur(),linkFocus=0,toggleTab="links",focusLink()),"37"==e.keyCode&&(e.preventDefault(),searchSwitch("l")),"39"==e.keyCode&&(e.preventDefault(),searchSwitch("r")),"38"==e.keyCode&&(si.lookupRepeat++,"undefined"!=typeof si.log[si.numSearched-si.lookupRepeat]?(si.inputD.value=si.log[si.numSearched-si.lookupRepeat],inputFake.innerHTML=si.log[si.numSearched-si.lookupRepeat]):clearSearch())}),i=0;i<si.pl.length;i++){var itmDot=document.getElementById("dot-container").lastChild,clnDot=itmDot.cloneNode(!0);clnDot.innerHTML=si.icon[i],dotSectionDomArray[0].appendChild(clnDot)}var noDotEachDom=dotSectionDomArray[0].getElementsByClassName("no-dot");noDotEachDom[0].classList.add("no-dot-sel");for(var dotChildren=document.getElementsByClassName("section-no-dots")[0].children,lDotChildren=dotChildren.length,i=0;i<lDotChildren;i++)!function(e){dotChildren[i].onclick=function(){for(console.log(e+" index was clicked"),focusSearch(),si.plInc=e,si.iconD.innerHTML=si.icon[si.plInc],si.inputD.placeholder=si.pl[si.plInc],si.inputD.classList.remove("search-hide"),i=0;i<noDotEachDom.length;i++)noDotEachDom[i].className="no-dot";noDotEachDom[si.plInc].classList.add("no-dot-sel")}}(i);var weatherBgDom=document.getElementById("weather-bg"),weatherImgArray=weatherBgDom.getElementsByTagName("div"),weatherImgNo=weatherImgArray.length,weatherCurrent,weatherTemp,navTop=document.getElementById("nav-weather"),navTempDom=document.getElementById("temp"),navCityDom=document.getElementById("city"),weatherCity,weatherImgNameArray=["sunny","rain","showers","cloudy","windy","snow"],weatherImgNameArrayLength=weatherImgNameArray.length;$(document).ready(function(){navigator.geolocation.getCurrentPosition(function(e){loadWeather(e.coords.latitude+","+e.coords.longitude),console.log("load geolocation coords: "+e.coords.latitude+","+e.coords.longitude)})});var initWeatherLoad=!0;