function colourConstructor(e,t,o){var n="hsl("+e+","+t+"%,"+o+"%)";return n}function clock(){var e=new Date;dateH=e.getHours(),dateH>12&&(dateH-=12),dateM=e.getMinutes(),dateM.toString().length<2&&(dateM="0"+dateM.toString()),dateS=e.getSeconds(),dateS.toString().length<2&&(dateS="0"+dateS.toString()),navTimeDom.innerHTML=dateH+":"+dateM+":"+dateS,timeLargeDom.innerHTML=dateH+":"+dateM,setTimeout(clock,1e3)}function timeoutShow(){setTimeout(function(){links[showInc].classList.add("show"),showInc++,showInc<linksNo&&timeoutShow()},45)}function focusLink(){linkFocus>=0&&linkFocus<linksNo&&(links[linkFocus].focus(),linkFocusOffTop=links[linkFocus].offsetTop)}function focusSearch(){searchInputDom.focus()}function clearSearch(){searchInputDom.value="",inputFake.innerHTML="",searchNoRepeat=0}function searchSwitch(e){"l"===e?searchPlInc>0?searchPlInc--:searchPlInc=searchPl.length-1:"r"===e&&(searchPlInc<searchPl.length-1?searchPlInc++:searchPlInc=0),inputSearchIconDom.innerHTML=searchIconArray[searchPlInc],searchInputDom.placeholder=searchPl[searchPlInc],searchInputDom.classList.remove("search-hide"),searchInputHolder=inputFake.innerHTML,dotChange(),setTimeout(function(){"undefined"!=typeof searchInputDom.value&&0===searchInputDom.value.length&&(searchInputCall.replace(/\s/g,"").length?(searchInputDom.value=searchInputHolder,inputFake.innerHTML=searchInputHolder,searchInputDom.classList.add("search-hide")):(console.log("just white space, reset"),clearSearch(),searchInputHolder=""))},200),clearSearch()}function dotChange(){for(i=0;i<noDotEachDom.length;i++)noDotEachDom[i].className="no-dot";noDotEachDom[searchPlInc].classList.add("no-dot-sel")}function weatherImgLazy(){for(var e=0;e<weatherImgNameArrayLength;e++)weatherImgArray[e].id="weather-"+weatherImgNameArray[e]}function loadWeather(e,t){function o(){$.simpleWeather({location:e,woeid:t,unit:"f",success:function(t){weatherCurrent=t.currently,weatherTemp=t.temp,weatherCity=t.city+", "+t.region,console.clear(),console.log("geo coords: "+e),console.log('weather: "'+weatherCurrent+'", temp: "'+weatherTemp+'"'),weatherImgLazy(),weatherSwap(weatherCurrent,weatherTemp)},error:function(e){console.log("weather error")}}),setTimeout(o,2e4)}initWeatherLoad&&(o(),initWeatherLoad=!1)}function weatherSwap(e,t){for(img="","Sunny"===e||"Mostly Sunny"===e||"Clear"===e||"Mostly Clear"===e||"Partly Cloudy"===e?img="weather-sunny":"Rain"===e?img="weather-rain":"Scattered Thunderstorms"===e||"Scattered Showers"===e?img="weather-showers":"Mostly Cloudy"===e||"Cloudy"===e?img="weather-cloudy":"Snow"===e||"Rain and Snow"===e?img="weather-snow":"Windy"===e||"Breezy"===e?img="weather-windy":alert(e+" - I havent coded for this, need to add it"),i=0;i<weatherImgNo;i++)weatherImgArray[i].className="";navTop.className="show",document.getElementById(img).className="show",navTempDom.innerHTML=t+"&deg; F",navCityDom.innerHTML=weatherCity}var cpbh=200,cMode="light",cpbs=18,cpbl=50,searchPl=["url","duckduckgo","google","google maps","youtube","soundcloud","/r/","stackoverflow","aur","wikipedia"],searchUrlArray=["","https://duckduckgo.com/?q=","https://www.google.com/#q=","https://www.google.com/maps/search/","https://www.youtube.com/results?search_query=","https://soundcloud.com/search?q=","https://www.reddit.com/r/","https://stackoverflow.com/search?q=","https://aur.archlinux.org/packages/?O=0&K=","https://en.wikipedia.org/wiki/"],searchIconSwap=!0,searchIconArray=['<i class="fa fa-globe" aria-hidden="true"></i>','<i class="fa fa-search search-icon" aria-hidden="true"></i>','<i class="fa fa-google" aria-hidden="true"></i>','<i class="fa fa-map-marker" aria-hidden="true"></i>','<i class="fa fa-youtube" aria-hidden="true"></i>','<i class="fa fa-soundcloud" aria-hidden="true"></i>','<i class="fa fa-reddit" aria-hidden="true"></i>','<i class="fa fa-stack-overflow" aria-hidden="true"></i>','<i class="fa fa-linux" aria-hidden="true"></i>','<i class="fa fa-wikipedia-w" aria-hidden="true"></i>'],cursorHide=!0,cursorToggleShow=!0,cursorTimer;document.addEventListener("mousemove",function(){cursorToggleShow?(clearTimeout(cursorTimer),cursorToggleShow=!0,cursorTimer=setTimeout(function(){document.getElementsByTagName("html")[0].style.cursor="none",cursorToggleShow=!1},300)):(cursorToggleShow=!0,document.getElementsByTagName("html")[0].style.cursor="auto")});var searchInputDom=document.getElementById("search-input"),searchInputCall,searchInputHolder,searchNoRepeat=0;searchInputDom.placeholder=searchPl[0];var searchPlInc=0,searchLogged=[],searchNoTimes=0;searchInputDom.focus();var inputSearchIconDom=document.getElementById("input-search-icon");inputSearchIconDom.innerHTML=searchIconArray[0];var toggleTab="search",links=document.getElementById("ul-links").getElementsByTagName("a"),linksNo=links.length,linkFocus=0,linkFocusOffTop,cpMods={linkBgHue:1.01*cpbh,linkBgSat:1.14*cpbs,linkBgLight:1.18*cpbl};document.getElementsByTagName("body")[0].style.background=colourConstructor(cpbh,cpbs,cpbl);var linksColCalc=colourConstructor(cpMods.linkBgHue,cpMods.linkBgSat,cpMods.linkBgLight);for(i=0;i<linksNo;i++)links[i].style.background=linksColCalc;var navDateDom=document.getElementById("date-d"),navTimeDom=document.getElementById("date-t"),timeLargeDom=document.getElementById("time-large"),dateD=new Date;navDateDom.innerHTML=dateD.toDateString(),clock();var rNum=0,rNumTotal=1,rOffset=[],rLength=[],rLinkCount=0;rOffset[rNum]=links[0].offsetTop;var dotSectionDomArray=document.getElementsByClassName("section-no-dots"),showInc=0;for(timeoutShow(),i=0;i<linksNo;i++)links[i].offsetTop===rOffset[rNum]?(rLinkCount++,rLength[rNum]=rLinkCount,rOffset[rNum]=links[i].offsetTop):(console.log("row: "+rNum+", "+rLength[rNum]+" total cells "),rNum++,rNumTotal++,rOffset[rNum]=links[i].offsetTop,rLinkCount++,rLength[rNum]=rLinkCount);console.log("row: "+rNum+", "+rLength[rNum]+" total cells ");var hasResized=!1,resizeTimer;window.onresize=function(){hasResized||(hasResized=!0),windowIW=window.innerWidth,clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){console.log("resizing")},250)},document.addEventListener("keydown",function(e){"9"==e.keyCode&&(e.preventDefault(),focusSearch())}),document.getElementById("ul-links").addEventListener("keydown",function(e){console.log(linkFocus),"37"==e.keyCode&&(e.preventDefault(),linkFocus>=1?linkFocus--:linkFocus=linksNo-1,focusLink()),"39"==e.keyCode&&(e.preventDefault(),linkFocus<linksNo-1?linkFocus++:linkFocus=0,focusLink()),"38"==e.keyCode&&(e.preventDefault(),linkFocus-rLength[0]>-1?(linkFocus-=rLength[0],focusLink()):(toggleTab="search",focusSearch(),searchInputDom.classList.remove("search-hide"))),"40"==e.keyCode&&(e.preventDefault(),linkFocus+rLength[0]<rLength[rLength.length-1]?(linkFocus+=rLength[0],focusLink()):(toggleTab="search",searchInputDom.focus())),"9"==e.keyCode&&e.preventDefault()});var cursorMoveEnable=!1,searchPreMoveDst=103,searchPreMoveInc=0,inputFake=document.getElementById("input-fake"),rejectArray=["16","18","8","17"],keyCtrlDown=!1;for(searchInputDom.addEventListener("keyup",function(e){17===e.keyCode&&(keyCtrlDown=!1)}),searchInputDom.addEventListener("keydown",function(e){searchInputCall=searchInputDom.value.toLowerCase(),17===e.which&&(keyCtrlDown=!0),32===e.keyCode&&(e.preventDefault(),p=inputFake.innerHTML,p+="Â ",inputFake.innerHTML=p),keyCtrlDown&&(8===e.which&&(console.log("ctrl + backspace"),e.preventDefault(),p=p.replace(/&nbsp;/g," "),l=p.lastIndexOf(" "),l===p.length-1&&(p=p.substring(0,p.length-2),l=p.lastIndexOf(" ")),p=p.substring(0,l),p.length>0&&(p+=" "),inputFake.innerHTML=p),65===e.which&&(e.preventDefault(),console.log("key a")))}),searchInputDom.addEventListener("keypress",function(e){searchInputDom.classList.add("search-hide"),p=inputFake.innerHTML,rejectArray.indexOf(e.keyCode.toString())<0?(k=e.which,inputFake.innerHTML=p+String.fromCharCode(k).toLowerCase(),p=inputFake.innerHTML):8===e.keyCode&&(inputFake.innerHTML=p.substring(0,p.length-1),p.length<=1&&searchInputDom.classList.remove("search-hide")),"13"==e.keyCode&&""!==searchInputCall&&(console.log("var searchInputCall = "+searchInputCall),searchPlInc>0?(q=searchInputCall.replace(/\s\s+/g," "),window.open(searchUrlArray[searchPlInc]+q)):searchInputCall.indexOf("https://")===-1&&searchInputCall.indexOf("http://")===-1?window.open("http://"+searchInputCall):window.open(searchInputCall),inputFake.innerHTML="",searchInputDom.value="",searchLogged.push(searchInputCall),searchNoTimes++,searchNoRepeat=0),"9"==e.keyCode&&e.preventDefault()}),searchInputDom.addEventListener("keydown",function(e){"40"==e.keyCode&&(e.preventDefault(),searchInputDom.blur(),linkFocus=0,toggleTab="links",focusLink()),"37"==e.keyCode&&(e.preventDefault(),searchSwitch("l")),"39"==e.keyCode&&(e.preventDefault(),searchSwitch("r")),"38"==e.keyCode&&(searchNoRepeat++,"undefined"!=typeof searchLogged[searchNoTimes-searchNoRepeat]?(searchInputDom.value=searchLogged[searchNoTimes-searchNoRepeat],inputFake.innerHTML=searchLogged[searchNoTimes-searchNoRepeat]):clearSearch())}),i=0;i<searchPl.length;i++){var itmDot=document.getElementById("dot-container").lastChild,clnDot=itmDot.cloneNode(!0);clnDot.innerHTML=searchIconArray[i],dotSectionDomArray[0].appendChild(clnDot)}var noDotEachDom=dotSectionDomArray[0].getElementsByClassName("no-dot");noDotEachDom[0].classList.add("no-dot-sel");for(var dotChildren=document.getElementsByClassName("section-no-dots")[0].children,lDotChildren=dotChildren.length,i=0;i<lDotChildren;i++)!function(e){dotChildren[i].onclick=function(){for(console.log(e+" index was clicked"),focusSearch(),searchPlInc=e,inputSearchIconDom.innerHTML=searchIconArray[searchPlInc],searchInputDom.placeholder=searchPl[searchPlInc],searchInputDom.classList.remove("search-hide"),i=0;i<noDotEachDom.length;i++)noDotEachDom[i].className="no-dot";noDotEachDom[searchPlInc].classList.add("no-dot-sel")}}(i);var weatherBgDom=document.getElementById("weather-bg"),weatherImgArray=weatherBgDom.getElementsByTagName("div"),weatherImgNo=weatherImgArray.length,weatherCurrent,weatherTemp,navTop=document.getElementById("nav-weather"),navTempDom=document.getElementById("temp"),navCityDom=document.getElementById("city"),weatherCity,weatherImgNameArray=["sunny","rain","showers","cloudy","windy","snow"],weatherImgNameArrayLength=weatherImgNameArray.length;$(document).ready(function(){navigator.geolocation.getCurrentPosition(function(e){loadWeather(e.coords.latitude+","+e.coords.longitude),console.log("load geolocation coords: "+e.coords.latitude+","+e.coords.longitude)})});var initWeatherLoad=!0;