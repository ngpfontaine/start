function colourConstructor(a,b,c){var d="hsl("+a+","+b+"%,"+c+"%)";return d}function clock(){var a=new Date;dateH=a.getHours(),dateH>12&&(dateH-=12),dateM=a.getMinutes(),dateM.toString().length<2&&(dateM="0"+dateM.toString()),dateS=a.getSeconds(),dateS.toString().length<2&&(dateS="0"+dateS.toString()),navTimeDom.innerHTML=dateH+":"+dateM+":"+dateS,timeLargeDom.innerHTML=dateH+":"+dateM,setTimeout(clock,1e3)}function timeoutShow(){setTimeout(function(){links[showInc].classList.add("show"),showInc++,showInc<linksNo&&timeoutShow()},45)}function focusLink(){linkFocus>=0&&linkFocus<linksNo&&(links[linkFocus].focus(),linkFocusOffTop=links[linkFocus].offsetTop)}function focusSearch(){searchInputDom.focus()}function clearSearch(){searchInputDom.value="",inputFake.innerHTML="",searchNoRepeat=0}function searchSwitch(a){"l"===a?searchPlInc>0?searchPlInc--:searchPlInc=searchPl.length-1:"r"===a&&(searchPlInc<searchPl.length-1?searchPlInc++:searchPlInc=0),inputSearchIconDom.innerHTML=searchIconArray[searchPlInc],searchInputDom.placeholder=searchPl[searchPlInc],searchInputDom.classList.remove("search-hide"),searchInputHolder=searchInputCall,dotChange(),setTimeout(function(){"undefined"!=typeof searchInputDom.value&&0===searchInputDom.value.length&&(searchInputCall.replace(/\s/g,"").length?(searchInputDom.value=searchInputHolder,inputFake.innerHTML=searchInputHolder,searchInputDom.classList.add("search-hide")):(console.log("just white space, reset"),clearSearch(),searchInputHolder=""))},500),clearSearch()}function dotChange(){for(i=0;i<noDotEachDom.length;i++)noDotEachDom[i].className="no-dot";noDotEachDom[searchPlInc].classList.add("no-dot-sel")}function loadWeather(a,b){function c(){$.simpleWeather({location:a,woeid:b,unit:"f",success:function(b){weatherCurrent=b.currently,weatherTemp=b.temp,weatherCity=b.city+", "+b.region,console.clear(),console.log("geo coords: "+a),console.log('weather: "'+weatherCurrent+'", temp: "'+weatherTemp+'"'),weatherSwap(weatherCurrent,weatherTemp)},error:function(a){console.log("weather error")}}),setTimeout(c,2e4)}initWeatherLoad&&(c(),initWeatherLoad=!1)}function weatherSwap(a,b){for(img="","Sunny"===a||"Mostly Sunny"===a||"Clear"===a||"Mostly Clear"===a||"Partly Cloudy"===a?img="weather-sunny":"Rain"===a?img="weather-rain":"Scattered Thunderstorms"===a||"Scattered Showers"===a?img="weather-showers":"Mostly Cloudy"===a||"Cloudy"===a?img="weather-cloudy":"Snow"===a||"Rain and Snow"===a?img="weather-snow":"Windy"===a||"Breezy"===a?img="weather-windy":alert(a+" - I havent coded for this, need to add it"),i=0;i<weatherImgNo;i++)weatherImgArray[i].className="";navTop.className="show",document.getElementById(img).className="show",navTempDom.innerHTML=b+"&deg; F",navCityDom.innerHTML=weatherCity}var cpbh=200,cMode="light",cpbs=18,cpbl=50,searchPl=["url","duckduckgo","google","google maps","youtube","soundcloud","/r/","stackoverflow","aur","wikipedia"],searchUrlArray=["","https://duckduckgo.com/?q=","https://www.google.com/#q=","https://www.google.com/maps/search/","https://www.youtube.com/results?search_query=","https://soundcloud.com/search?q=","https://www.reddit.com/r/","https://stackoverflow.com/search?q=","https://aur.archlinux.org/packages/?O=0&K=","https://en.wikipedia.org/wiki/"],searchIconSwap=!0,searchIconArray=['<i class="fa fa-globe" aria-hidden="true"></i>','<i class="fa fa-search search-icon" aria-hidden="true"></i>','<i class="fa fa-google" aria-hidden="true"></i>','<i class="fa fa-map-marker" aria-hidden="true"></i>','<i class="fa fa-youtube" aria-hidden="true"></i>','<i class="fa fa-soundcloud" aria-hidden="true"></i>','<i class="fa fa-reddit" aria-hidden="true"></i>','<i class="fa fa-stack-overflow" aria-hidden="true"></i>','<i class="fa fa-linux" aria-hidden="true"></i>','<i class="fa fa-wikipedia-w" aria-hidden="true"></i>'],cursorHide=!0,cursorToggleShow=!0,cursorTimer;document.addEventListener("mousemove",function(){cursorToggleShow?(clearTimeout(cursorTimer),cursorToggleShow=!0,cursorTimer=setTimeout(function(){document.getElementsByTagName("html")[0].style.cursor="none",console.log("hiding cursor"),cursorToggleShow=!1},250)):(cursorToggleShow=!0,document.getElementsByTagName("html")[0].style.cursor="auto",console.log("showing cursor"))});var searchInputDom=document.getElementById("search-input"),searchInputCall,searchInputHolder,searchNoRepeat=0;searchInputDom.placeholder=searchPl[0];var searchPlInc=0,searchLogged=[],searchNoTimes=0;searchInputDom.focus();var inputSearchIconDom=document.getElementById("input-search-icon");inputSearchIconDom.innerHTML=searchIconArray[0];var toggleTab="search",links=document.getElementById("ul-links").getElementsByTagName("a"),linksNo=links.length,linkFocus=0,linkFocusOffTop,cpMods={linkBgHue:1.01*cpbh,linkBgSat:1.14*cpbs,linkBgLight:1.18*cpbl};document.getElementsByTagName("body")[0].style.background=colourConstructor(cpbh,cpbs,cpbl);var linksColCalc=colourConstructor(cpMods.linkBgHue,cpMods.linkBgSat,cpMods.linkBgLight);for(i=0;i<linksNo;i++)links[i].style.background=linksColCalc;var navDateDom=document.getElementById("date-d"),navTimeDom=document.getElementById("date-t"),timeLargeDom=document.getElementById("time-large"),dateD=new Date;navDateDom.innerHTML=dateD.toDateString(),clock();var rNum=0,rNumTotal=1,rOffset=[],rLength=[],rLinkCount=0;rOffset[rNum]=links[0].offsetTop;var dotSectionDomArray=document.getElementsByClassName("section-no-dots"),showInc=0;for(timeoutShow(),i=0;i<linksNo;i++)links[i].offsetTop===rOffset[rNum]?(rLinkCount++,rLength[rNum]=rLinkCount,rOffset[rNum]=links[i].offsetTop):(console.log("row: "+rNum+", "+rLength[rNum]+" total cells "),rNum++,rNumTotal++,rOffset[rNum]=links[i].offsetTop,rLinkCount++,rLength[rNum]=rLinkCount);console.log("row: "+rNum+", "+rLength[rNum]+" total cells ");var hasResized=!1,resizeTimer;window.onresize=function(){hasResized||(hasResized=!0),windowIW=window.innerWidth,clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){console.log("resizing")},250)},document.addEventListener("keydown",function(a){"9"==a.keyCode&&(a.preventDefault(),focusSearch())}),document.getElementById("ul-links").addEventListener("keydown",function(a){console.log(linkFocus),"37"==a.keyCode&&(a.preventDefault(),linkFocus>=1?linkFocus--:linkFocus=linksNo-1,focusLink()),"39"==a.keyCode&&(a.preventDefault(),linkFocus<linksNo-1?linkFocus++:linkFocus=0,focusLink()),"38"==a.keyCode&&(a.preventDefault(),linkFocus-rLength[0]>-1?(linkFocus-=rLength[0],focusLink()):(toggleTab="search",focusSearch(),searchInputDom.classList.remove("search-hide"))),"40"==a.keyCode&&(a.preventDefault(),linkFocus+rLength[0]<rLength[rLength.length-1]?(linkFocus+=rLength[0],focusLink()):(toggleTab="search",searchInputDom.focus())),"9"==a.keyCode&&a.preventDefault()});var cursorMoveEnable=!1,searchPreMoveDst=103,searchPreMoveInc=0,inputFake=document.getElementById("input-fake"),rejectArray=["16","18","8","17","37","38","40","39"],keyCtrlDown=!1;for(searchInputDom.addEventListener("keyup",function(a){17===a.keyCode&&(keyCtrlDown=!1)}),searchInputDom.addEventListener("keydown",function(a){searchInputCall=searchInputDom.value.toLowerCase(),17===a.which&&(keyCtrlDown=!0),keyCtrlDown&&(8===a.which?(console.log("ctrl + backspace"),p=p.replace(/\s\s+/g," "),l=p.lastIndexOf(" "),p=p.substring(0,l),inputFake.innerHTML=p):a.preventDefault())}),searchInputDom.addEventListener("keypress",function(a){searchInputDom.classList.add("search-hide"),p=inputFake.innerHTML,rejectArray.indexOf(a.keyCode.toString())<0?32===a.keyCode?(p+=" ",inputFake.innerHTML=p):(k=a.which,inputFake.innerHTML=p+String.fromCharCode(k).toLowerCase()):8===a.keyCode&&(inputFake.innerHTML=p.substring(0,p.length-1),p.length<=1&&searchInputDom.classList.remove("search-hide")),"13"==a.keyCode&&""!==searchInputCall&&(console.log("var searchInputCall = "+searchInputCall),searchPlInc>0?(q=searchInputCall.replace(/\s\s+/g," "),window.open(searchUrlArray[searchPlInc]+q)):searchInputCall.indexOf("https://")===-1&&searchInputCall.indexOf("http://")===-1?window.open("http://"+searchInputCall):window.open(searchInputCall),inputFake.innerHTML="",searchInputDom.value="",searchLogged.push(searchInputCall),searchNoTimes++,searchNoRepeat=0),"9"==a.keyCode&&a.preventDefault(),"40"==a.keyCode&&(a.preventDefault(),searchInputDom.blur(),linkFocus=0,toggleTab="links",focusLink()),"37"==a.keyCode&&(a.preventDefault(),searchSwitch("l")),"39"==a.keyCode&&(a.preventDefault(),searchSwitch("r")),"38"==a.keyCode&&(searchNoRepeat++,"undefined"!=typeof searchLogged[searchNoTimes-searchNoRepeat]?(searchInputDom.value=searchLogged[searchNoTimes-searchNoRepeat],inputFake.innerHTML=searchLogged[searchNoTimes-searchNoRepeat]):clearSearch())}),i=0;i<searchPl.length;i++){var itmDot=document.getElementById("dot-container").lastChild,clnDot=itmDot.cloneNode(!0);clnDot.innerHTML=searchIconArray[i],dotSectionDomArray[0].appendChild(clnDot)}var noDotEachDom=dotSectionDomArray[0].getElementsByClassName("no-dot");noDotEachDom[0].classList.add("no-dot-sel");for(var dotChildren=document.getElementsByClassName("section-no-dots")[0].children,lDotChildren=dotChildren.length,i=0;i<lDotChildren;i++)!function(a){dotChildren[i].onclick=function(){for(console.log(a+" index was clicked"),focusSearch(),searchPlInc=a,inputSearchIconDom.innerHTML=searchIconArray[searchPlInc],searchInputDom.placeholder=searchPl[searchPlInc],searchInputDom.classList.remove("search-hide"),i=0;i<noDotEachDom.length;i++)noDotEachDom[i].className="no-dot";noDotEachDom[searchPlInc].classList.add("no-dot-sel")}}(i);var weatherBgDom=document.getElementById("weather-bg"),weatherImgArray=weatherBgDom.getElementsByTagName("div"),weatherImgNo=weatherImgArray.length,weatherCurrent,weatherTemp,navTop=document.getElementById("nav-weather"),navTempDom=document.getElementById("temp"),navCityDom=document.getElementById("city"),weatherCity;$(document).ready(function(){navigator.geolocation.getCurrentPosition(function(a){loadWeather(a.coords.latitude+","+a.coords.longitude),console.log("load geolocation coords: "+a.coords.latitude+","+a.coords.longitude)})});var initWeatherLoad=!0;
