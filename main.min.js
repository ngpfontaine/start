"use strict";function randomInt(e,n){return Math.floor(Math.random()*(n-e+1)+e)}function clock(){var e=new Date,n=e.getHours();n>12&&(n-=12);var t=e.getMinutes();t.toString().length<2&&(t="0"+t.toString());var i=e.getSeconds();i.toString().length<2&&(i="0"+i.toString()),navTimeDom.innerHTML=n+":"+t+":"+i,n.toString().length<2&&(n="0"+n.toString()),timeLargeL.innerHTML=n,timeLargeR.innerHTML=t,setTimeout(clock,1e3)}function timeoutShow(){setTimeout(function(){fadeIn(links[showInc]),showInc++,showInc<linksNo?timeoutShow():countEm()},45)}function focusLink(){linkFocus>=0&&linkFocus<linksNo&&(links[linkFocus].focus(),linkFocusOffTop=links[linkFocus].offsetTop)}function focusSearch(){si.inputD.focus(),si.inputFocusToggle(!0)}function clearSearch(){si.inputD.value="",si.val="",inputFake.innerHTML="",si.lookupRepeat=0}function searchSwitch(e){"l"===e?si.plInc>0?si.plInc--:si.plInc=si.pl.length-1:"r"===e&&(si.plInc<si.pl.length-1?si.plInc++:si.plInc=0),si.iconD.innerHTML=si.icon[si.plInc],si.inputD.placeholder=si.pl[si.plInc],si.inputD.classList.remove("search-hide"),dotChange(),searchReassign()}function searchReassign(){si.valHolder=si.val,setTimeout(function(){si.codec(si.valHolder,!1).length>0?(si.val=si.valHolder,inputFake.innerHTML=si.valHolder,si.inputD.classList.add("search-hide")):(clearSearch(),si.valHolder="")},200),clearSearch()}function weatherImgLazy(){for(var e=0;e<weatherImgNameArrayLength;e++)weatherImgArray[e].id="weather-"+weatherImgNameArray[e]}function loadWeather(e,n){function t(){$.simpleWeather({location:e,woeid:n,unit:"f",success:function(n){weatherCurrent=n.currently,weatherTemp=n.temp,weatherCity=n.city+", "+n.region,console.clear(),console.log("geo coords: "+e),console.log('weather: "'+weatherCurrent+'", temp: "'+weatherTemp+'"'),weatherImgLazy(),weatherSwap(weatherCurrent,weatherTemp)},error:function(e){console.log("weather error")}}),setTimeout(t,2e4)}initWeatherLoad&&(t(),initWeatherLoad=!1)}function weatherSwap(e,n){var t="",i=weatherImgArray,o=i.length,s=0;for("Sunny"===e||"Mostly Sunny"===e||"Clear"===e||"Mostly Clear"===e||"Partly Cloudy"===e?t="weather-sunny":"Rain"===e||"Showers"===e||"Heavy Rain"===e?t="weather-rain":"Scattered Thunderstorms"===e||"Scattered Showers"===e?t="weather-showers":"Mostly Cloudy"===e||"Cloudy"===e?t="weather-cloudy":"Snow"===e||"Rain And Snow"===e?t="weather-snow":"Windy"===e||"Breezy"===e?t="weather-windy":alert(e+" - I havent coded for this, need to add it"),s=0;s<o;s++)i[s].className="";navTop.classList.add("show"),timeLargeL.classList.add("show"),timeLargeR.classList.add("show"),document.getElementById(t).className="show",navTempDom.innerHTML=n+"&deg; F",navCityDom.innerHTML=weatherCity}function handleTouchStart(e){xDown=e.touches[0].clientX,yDown=e.touches[0].clientY}function handleTouchMove(e){if(xDown&&yDown){var n=e.touches[0].clientX,t=e.touches[0].clientY,i=xDown-n,o=yDown-t;Math.abs(i)>Math.abs(o)&&(i>0?(console.log(i),searchSwitch("r")):searchSwitch("l")),xDown=null,yDown=null}}function fadeOut(e){e.style.opacity=1,function n(){(e.style.opacity-=.1)<0?e.style.display="none":requestAnimationFrame(n)}()}function fadeIn(e,n){e.style.opacity=0,e.style.display=n||"block",function n(){var t=parseFloat(e.style.opacity);(t+=.1)>1||(e.style.opacity=t,requestAnimationFrame(n))}()}var cpbh=200,cMode="light",cpbs=18,cpbl=50,searchPlaceholders=["url","duckduckgo","google maps","youtube","soundcloud","/r/","stackoverflow","aur","wikipedia"],searchUrls=["","https://duckduckgo.com/?q=","https://www.google.com/maps/search/","https://www.youtube.com/results?search_query=","https://soundcloud.com/search?q=","https://www.reddit.com/r/","https://stackoverflow.com/search?q=","https://aur.archlinux.org/packages/?O=0&K=","https://en.wikipedia.org/wiki/"],searchIconSwap=!0,searchIcons=['<i class="fa fa-globe" aria-hidden="true"></i>','<i class="fa fa-search search-icon" aria-hidden="true"></i>','<i class="fa fa-map-marker" aria-hidden="true"></i>','<i class="fa fa-youtube" aria-hidden="true"></i>','<i class="fa fa-soundcloud" aria-hidden="true"></i>','<i class="fa fa-reddit" aria-hidden="true"></i>','<i class="fa fa-stack-overflow" aria-hidden="true"></i>','<i class="fa fa-linux" aria-hidden="true"></i>','<i class="fa fa-wikipedia-w" aria-hidden="true"></i>'],keyCtrlRelease;document.addEventListener("keydown",function(){clearTimeout(keyCtrlRelease),keyCtrlRelease=setTimeout(function(){console.log("------ 3 seconds for clearing keyCtrlDown"),keyCtrlDown=!1},3e3)});var cursorToggleShow=!0,cursorTimer;document.addEventListener("mousemove",function(){cursorToggleShow?function(){clearTimeout(cursorTimer),cursorToggleShow=!0,cursorTimer=setTimeout(function(){document.getElementsByTagName("html")[0].style.cursor="none",cursorToggleShow=!1},400)}():function(){cursorToggleShow=!0,document.getElementsByTagName("html")[0].style.cursor="auto"}()});var inputSearch=document.getElementById("search-input"),inputFake=document.getElementById("input-fake"),focusToggle=!0,si={link:searchUrls,pl:searchPlaceholders,plInc:0,numSearched:0,lookupRepeat:0,icon:searchIcons,inputD:document.getElementById("search-input"),inputFake:document.getElementById("input-fake"),log:[],iconD:document.getElementById("input-search-icon"),swapIcons:searchIconSwap,val:"",valHolder:"",codec:function(e,n){var t=n?e.replace(/\s/g,"&nbsp;"):e.replace(/&nbsp;/g," ");return t},deletion:"",deletionActive:!1,inputFocusToggle:function(e){e?(inputFake.classList.remove("input-cursor-inactive"),inputSearch.classList.add("focus")):(inputFake.classList.add("input-cursor-inactive"),inputSearch.classList.remove("focus"))}};window.onload=function(){si.inputD.value=""},si.inputD.placeholder=si.pl[0],si.inputD.focus(),inputSearch.classList.add("focus"),si.swapIcons?si.iconD.innerHTML=si.icon[0]:si.iconD.innerHTML='<i class="fa fa-search search-icon" aria-hidden="true"></i>';var links=document.getElementById("ul-links").getElementsByTagName("a"),linksNo=links.length,linkFocus=0,linkFocusOffTop,colorfy=function(){function e(e,n,t){var i="hsl("+e+","+n+"%,"+t+"%)";return i}cpbh=randomInt(0,360),cpbl=randomInt(30,58),cpbs=randomInt(17,19);var n={linkBgHue:1.01*cpbh,linkBgSat:1.16*cpbs,linkBgLight:1.27*cpbl};document.getElementsByTagName("body")[0].style.backgroundColor=e(cpbh,cpbs,cpbl);for(var t=e(n.linkBgHue,n.linkBgSat,n.linkBgLight),i=0;i<linksNo;i++)links[i].style.background=t};colorfy();var navDateDom=document.getElementById("date-d"),navTimeDom=document.getElementById("date-t"),timeLargeR=document.getElementById("time-large-r"),timeLargeL=document.getElementById("time-large-l"),dateD=new Date;navDateDom.innerHTML=dateD.toDateString(),clock();var dotSectionDomArray=document.getElementsByClassName("section-no-dots"),showInc=0;setTimeout(function(){timeoutShow()},400);var rNum,rNumTotal,rOffset=[],rLength=[],rLinkCount,countEm=function(){rNum=0,rNumTotal=1,rOffset=[],rLength=[],rLinkCount=0,rOffset[rNum]=links[0].offsetTop;for(var e=0;e<linksNo;e++)links[e].offsetTop===rOffset[rNum]?(rLinkCount++,rLength[rNum]=rLinkCount,rOffset[rNum]=links[e].offsetTop):(console.log("row: "+rNum+", "+rLength[rNum]+" total cells "),rNum++,rNumTotal++,rOffset[rNum]=links[e].offsetTop,rLinkCount++,rLength[rNum]=rLinkCount);console.log("row: "+rNum+", "+rLength[rNum]+" total cells ")},hasResized=!1,resizeTimer;window.onresize=function(){hasResized||(hasResized=!0),windowIW=window.innerWidth,clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){console.log("resizing"),countEm()},250)},document.getElementById("ul-links").addEventListener("keydown",function(e){"37"==e.keyCode&&(e.preventDefault(),linkFocus>=1?linkFocus--:linkFocus=linksNo-1,focusLink()),"39"==e.keyCode&&(e.preventDefault(),linkFocus<linksNo-1?linkFocus++:linkFocus=0,focusLink()),"38"==e.keyCode&&(e.preventDefault(),linkFocus-rLength[0]>-1?(linkFocus-=rLength[0],focusLink()):(focusSearch(),0===si.val.length&&si.inputD.classList.remove("search-hide"))),"40"==e.keyCode&&(e.preventDefault(),linkFocus+rLength[0]<rLength[rLength.length-1]?(linkFocus+=rLength[0],focusLink()):(toggleTab="search",si.inputD.focus())),"9"==e.keyCode&&e.preventDefault()});var cursorMoveEnable=!1,searchPreMoveDst=103,searchPreMoveInc=0,rejectArray=["16","18","8","17"],keyCtrlDown=!1;si.inputD.addEventListener("keyup",function(e){keyUpEnable=!0,17===e.keyCode&&(keyCtrlDown=!1)}),si.inputD.addEventListener("keydown",function(e){8===e.keyCode&&(keyCtrlDown||(si.val=si.val.replace(/&nbsp;/g," "),si.val=si.codec(si.val,!1),si.val=si.val.replace(/\s\s+/g," "),inputFake.innerHTML=si.val.substring(0,si.val.length-1)),si.val.length<=1&&(si.inputD.classList.remove("search-hide"),console.log("removing"),si.inputD.value="")),38!==e.keyCode&&(si.val=inputFake.innerHTML),17===e.which&&(keyCtrlDown=!0),32===e.keyCode&&(e.preventDefault(),si.val=inputFake.innerHTML,si.val=si.val+" ",inputFake.innerHTML=si.val),keyCtrlDown&&(67===e.which&&(colorfy(),si.val.length<1&&si.inputD.classList.remove("search-hide")),l=si.val.lastIndexOf("&nbsp;"),8===e.which&&(e.preventDefault(),l===si.val.length-6&&(si.val=si.val.substring(0,si.val.length-6),si.val=si.codec(si.val.replace(/&nbsp;/g," ").replace(/\s\s+/g," "),!0),l=si.val.lastIndexOf("&nbsp;")),si.deletion=si.val.substring(l,si.val.length),si.deletion=si.deletion.replace(/&nbsp;/g,""),si.val=si.val.substring(0,l),si.val.length>0?si.val+=" ":si.inputD.classList.remove("search-hide"),inputFake.innerHTML=si.val+'<span id="deletion">'+si.deletion+"</span>",si.deletionActive=!0,console.log("deletionActive true"),si.delD=document.getElementById("deletion"),si.delD.style.width=si.delD.clientWidth.toString()+"px",si.inputFocusToggle(!1),setTimeout(function(){si.delD.style.width="0px"},200),setTimeout(function(){inputFake.innerHTML=si.val,si.inputFocusToggle(!0),si.deletionActive=!1,console.log("deletionActive false")},300),si.inputD.value=si.val),9===e.which&&(keyCtrlDown=!1),65===e.which&&(e.preventDefault(),console.log("key a")),86===e.which)}),si.inputD.addEventListener("keypress",function(e){if(38===e.keyCode||8===e.keyCode||keyCtrlDown||si.inputD.classList.add("search-hide"),rejectArray.indexOf(e.keyCode.toString())<0&&(k=e.which,keyUpEnable&&(keyCtrlDown||si.deletionActive?"v"===String.fromCharCode(k).toLowerCase()&&console.log("ctrl + v, paste"):inputFake.innerHTML=si.val+String.fromCharCode(k).toLowerCase()),si.val=inputFake.textContent||inputFake.innerText),"13"==e.keyCode&&""!==si.val){if(console.log("var si.val = "+si.val),si.inputD.classList.remove("search-hide"),console.log("removing search hide"),si.plInc>0){var n=si.codec(si.val,!1);window.open(si.link[si.plInc]+n)}else si.val.indexOf("https://")===-1&&si.val.indexOf("http://")===-1?window.open("http://"+si.val):window.open(si.val);inputFake.innerHTML="",si.inputD.value="",si.log.push(si.codec(si.val,!1)),si.numSearched++,si.lookupRepeat=0}"9"==e.keyCode&&e.preventDefault()});var keyUpEnable=!0;si.inputD.addEventListener("keydown",function(e){"40"==e.keyCode&&(e.preventDefault(),si.inputD.blur(),linkFocus=0,toggleTab="links",focusLink(),si.inputFocusToggle(!1)),"37"==e.keyCode&&(e.preventDefault(),searchSwitch("l")),"39"==e.keyCode&&(e.preventDefault(),searchSwitch("r")),"38"==e.keyCode&&keyUpEnable&&(keyUpEnable=!1,si.lookupRepeat++,console.log(si.numSearched-si.lookupRepeat),"undefined"!=typeof si.log[si.numSearched-si.lookupRepeat]?(si.inputD.value=si.log[si.numSearched-si.lookupRepeat],inputFake.innerHTML=si.log[si.numSearched-si.lookupRepeat],si.inputD.classList.add("search-hide")):(clearSearch(),si.inputD.classList.contains("search-hide")&&si.inputD.classList.remove("search-hide"),si.lookupRepeat=0))}),function(){var e,n,t=document.createDocumentFragment(),i=document.getElementById("dot-container").lastChild,o=si.pl.length;for(n=0;n<o;n++)e=i.cloneNode(!0),e.innerHTML=si.icon[n],t.appendChild(e);dotSectionDomArray[0].appendChild(t)}();var noDotEachDom=dotSectionDomArray[0].getElementsByClassName("no-dot");noDotEachDom[0].classList.add("no-dot-sel");var dotChange=function(){var e,n=noDotEachDom.length;for(e=0;e<n;e++)noDotEachDom[e].className="no-dot";noDotEachDom[si.plInc].classList.add("no-dot-sel")};!function(){var e,n=document.getElementsByClassName("section-no-dots")[0].children,t=n.length;for(e=0;e<t;e++)!function(t){n[e].addEventListener("click",function(){si.plInc=t,si.iconD.innerHTML=si.icon[si.plInc],si.inputD.placeholder=si.pl[si.plInc],si.inputD.classList.remove("search-hide");for(var e=0;e<noDotEachDom.length;e++)noDotEachDom[e].className="no-dot";noDotEachDom[si.plInc].classList.add("no-dot-sel"),searchReassign()})}(e)}();var weatherBgDom=document.getElementById("weather-bg"),weatherImgArray=weatherBgDom.getElementsByTagName("div"),weatherCurrent,weatherTemp,navTop=document.getElementById("nav-weather"),navTempDom=document.getElementById("temp"),navCityDom=document.getElementById("city"),weatherCity,weatherImgNameArray=["sunny","rain","showers","cloudy","windy","snow"],weatherImgNameArrayLength=weatherImgNameArray.length;$(document).ready(function(){navigator.geolocation.getCurrentPosition(function(e){loadWeather(e.coords.latitude+","+e.coords.longitude),console.log("load geolocation coords: "+e.coords.latitude+","+e.coords.longitude)})});var initWeatherLoad=!0;si.inputD.addEventListener("touchstart",handleTouchStart,!1),si.inputD.addEventListener("touchmove",handleTouchMove,!1);var xDown=null,yDown=null;